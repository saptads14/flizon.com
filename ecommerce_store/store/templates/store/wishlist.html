<!DOCTYPE html> 
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wishlist | FLIZON</title>
    {% load static %}
    {% load custom_filters %}
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="{% static 'home.css' %}">
    {% if messages %}
        {% for message in messages %}
            <script>
                alert("{{ message }}");
            </script>
        {% endfor %}
    {% endif %}
    <style>
html, body {
    margin: 0;
    padding: 0;
    width: 100%;
    overflow-x: hidden; /* Prevent horizontal scroll */
    min-height: 100vh;
    display: flex;
    flex-direction: column;
}

header, .content-wrapper, footer {
    width: 100%; /* Full width without cutting off */
    margin: 0;
    padding: 0;
}

.container, .container-fluid, .row {
    padding-left: 0 !important;
    padding-right: 0 !important;
    margin-left: 0 !important;
    margin-right: 0 !important;
    width: 100%;
}

.content-wrapper {
    flex: 1 0 auto; /* Makes content take remaining height */
    padding: 20px;
    box-sizing: border-box;
}

/* Grid styling for wishlist items */
.wishlist-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1.5rem;
    margin-top: 20px;
}

.wishlist-card {
    background: #ffffff;
    border-radius: 12px;
    padding: 20px;
    box-shadow: 0 8px 15px rgba(0,0,0,0.2);
    text-align: center;
    transition: transform 0.3s, box-shadow 0.3s;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    box-sizing: border-box; /* Include padding in width */
}

.wishlist-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 12px 20px rgba(0,0,0,0.3);
}

.wishlist-card h5 {
    font-weight: 700;
    font-size: 1.2rem;
    margin-bottom: 10px;
}

.wishlist-card p {
    font-size: 1rem;
    font-weight: 500;
    margin-bottom: 15px;
}

.wishlist-card .btn {
    margin: 5px;
    border-radius: 8px;
    font-weight: 600;
}

.wishlist-header {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    font-size: 2rem;
    font-weight: 700;
    text-align: center;
    margin-bottom: 30px;
    color: #333;
    text-shadow: 1px 1px 3px rgba(0,0,0,0.2);
}

.wishlist-empty {
    text-align: center;
    font-size: 1.2rem;
    margin-top: 30px;
}

/* Footer styling */
footer {
    flex-shrink: 0;
    width: 100%; /* Full width */
    padding: 20px 0;
    background-color: #012546;
    color: #f8f9fa;
    box-sizing: border-box;
    margin-top: 20px; /* Space between content and footer */
}
</style>

</head>
<body class="container-fluid">
    <header class="row">
        {% include "store/navbar.html" %}   
    </header>

    <div class="content-wrapper">
        <h1 class="wishlist-header">My Wishlist</h1>
        {% if wishlist_items %}
        <div class="wishlist-grid">
            {% for item in wishlist_items %}
            <div class="wishlist-card">
                <h5>{{ item.product.name }}</h5>
                <p>Price: {{ item.product.price }}</p>
                <a href="{% url 'remove_from_wishlist' item.product.id %}" class="btn btn-danger btn-sm">Remove</a>
                <a href="{% url 'add_to_cart' item.product.id %}" class="btn btn-success btn-sm">Add to Cart</a>
            </div>
            {% endfor %}
        </div>
        <p class="fw-bold fs-4 mt-4 text-center">Total Items: {{ wishlist_count }}</p>
        <div class="text-center mt-3">
            <a href="{% url 'home' %}" class="btn btn-primary btn-lg">Continue Shopping</a>
        </div>
        {% else %}
        <p class="wishlist-empty">Your wishlist is empty.</p>
        <div class="text-center mt-3">
            <a href="{% url 'home' %}" class="btn btn-primary btn-lg">Start Shopping</a>
        </div>
        {% endif %}
    </div>

    {% include "store/footer.html" %}
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>
</html>
